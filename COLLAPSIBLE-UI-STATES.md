# Collapsible Sections - UI States

## Daily AI Section

### Expanded (Incomplete)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Daily AI                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ [Morning Ritual Form]                   â”‚
â”‚ - What are you grateful for?            â”‚
â”‚ - What are you excited about?           â”‚
â”‚ - Today's priorities (3)                â”‚
â”‚                                         â”‚
â”‚ [Habit Streaks]                         â”‚
â”‚ â˜‘ï¸ Running: 5 days                      â”‚
â”‚ â˜‘ï¸ Journaling: 12 days                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Expanded (Complete - with collapse option)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Daily AI                    âœ“ Collapse  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ [Morning Ritual - Completed]            â”‚
â”‚ âœ“ Grateful: Family health               â”‚
â”‚ âœ“ Excited: Leon meeting                 â”‚
â”‚ âœ“ Priorities: 3 set                     â”‚
â”‚                                         â”‚
â”‚ [Habit Streaks]                         â”‚
â”‚ â˜‘ï¸ Running: 5 days                      â”‚
â”‚ â˜‘ï¸ Journaling: 12 days                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Collapsed (Complete)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âœ“  Daily AI Complete              Expandâ†’â•‘
â•‘    Energy logged, intentions set,       â•‘
â•‘    gratitude captured                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Sales Learning Section

### Expanded (Active Lesson)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ’¼ Sales Learning - Day 15/30           â”‚
â”‚ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 50%          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Today's Framework: SPIN Selling         â”‚
â”‚                                         â”‚
â”‚ [Lesson Content]                        â”‚
â”‚ Situation â†’ Problem â†’ Implication â†’     â”‚
â”‚ Need-Payoff                             â”‚
â”‚                                         â”‚
â”‚ âœ“ Key Takeaways                         â”‚
â”‚ â€¢ Ask open questions                    â”‚
â”‚ â€¢ Listen 80/20                          â”‚
â”‚                                         â”‚
â”‚ ðŸ“ Practice Exercise                    â”‚
â”‚ Role-play discovery call with Leon     â”‚
â”‚                                         â”‚
â”‚ Next: Day 16 - Objection Handling      â”‚
â”‚           [Mark Complete & Continue]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Expanded (Complete - with collapse option)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sales Learning              âœ“ Collapse  â”‚
â”‚ ðŸ’¼ Sales - Day 15/30                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Today's Framework: SPIN Selling         â”‚
â”‚                                         â”‚
â”‚ [Lesson Content - Same as above]        â”‚
â”‚                                         â”‚
â”‚ âœ“ COMPLETED                             â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Collapsed (Complete)
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ âœ“  Sales Learning - Day 15 Complete    â•‘
â•‘    SPIN Selling                    Expandâ†’â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Visual Styling

### Collapsed Card
- **Background**: `#f0f9ff` (light blue)
- **Border**: `1px dashed #3b82f6` (blue)
- **Border Radius**: `0.5rem`
- **Padding**: `1rem`
- **Hover Background**: `#e0f2fe` (darker blue)
- **Hover Border**: `#2563eb` (darker blue)
- **Transition**: `all 0.2s ease`

### Checkmark Icon
- **Size**: `2xl` (text-2xl)
- **Color**: Green/Success color
- **Position**: Left side of text

### Expand Button
- **Text**: "Expand â†’"
- **Color**: `#9ca3af` (cloud-400)
- **Hover**: Darker shade
- **Position**: Right side

## Interaction Flow

### Auto-Collapse (Daily AI)
1. User fills energy level â†’ no collapse
2. User adds 1st intention â†’ no collapse
3. User adds 1st gratitude â†’ **AUTO-COLLAPSE**
4. UI smoothly transitions to collapsed card
5. localStorage saves `dailyAIExpanded = false`

### Auto-Collapse (Learning)
1. User reads lesson content
2. User clicks "Mark Complete & Continue"
3. **AUTO-COLLAPSE** immediately
4. localStorage saves:
   - `learningExpanded = false`
   - `lesson-complete-sales-day-15 = true`
5. Next day: new lesson, expanded by default

### Manual Expand
1. User clicks anywhere on collapsed card
2. Card smoothly expands to full size
3. All content visible again
4. Collapse button appears in header
5. localStorage saves `[section]Expanded = true`

### Manual Collapse
1. User clicks "âœ“ Collapse" button in expanded header
2. Card smoothly collapses
3. localStorage saves `[section]Expanded = false`

## Responsive Behavior

### Desktop (> 768px)
- Full width cards
- Hover states active
- Smooth transitions

### Mobile (< 768px)
- Full width cards (same as desktop)
- Touch-friendly button sizes (min 44px height)
- No hover states (tap to expand)

## Accessibility

- Clickable area = entire collapsed card (large touch target)
- Semantic HTML: `<button>` for interactive elements
- Clear visual indicators (checkmarks, text)
- Color contrast meets WCAG AA standards
- Keyboard navigation supported (tab to button, enter to toggle)
- Screen reader announces: "Daily AI Complete, expand button"

## Edge Cases Handled

1. **Page refresh**: State restored from localStorage
2. **Multiple tabs**: Each tab has independent state (localStorage shared)
3. **New day**: Learning section resets (new lesson), Daily AI resets (new day)
4. **No localStorage**: Defaults to expanded (graceful degradation)
5. **Partial completion**: Sections stay expanded until ALL criteria met

## Performance

- No re-renders on unrelated state changes (derived state)
- localStorage writes debounced via Svelte $effect
- Smooth 60fps animations (CSS transitions)
- No layout shift (collapsed/expanded same width)
